<Window
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:PatientBaseDataSetTableAdapters="clr-namespace:Stability.PatientBaseDataSetTableAdapters" xmlns:local="clr-namespace:Stability" x:Class="Stability.MainWindow"
          
    
    Title="MainWindow" Height="440" Width="793" Closing="OnClose" UseLayoutRounding="True">
    <Window.Resources>
        
        <local:DateTimeConverter x:Key="DateTimeConverter"></local:DateTimeConverter>
        <local:SexesConverter x:Key="SexesConverter"></local:SexesConverter>
       
        <ControlTemplate x:Key="ButtonTemplate" TargetType="Button">
            <Border BorderBrush="Transparent" BorderThickness="0" 
                    Name="border" 
                    OverridesDefaultStyle="False"
                    Width="48" 
                    Height="48" 
                    Padding="{TemplateBinding Property=Padding}"
                    HorizontalAlignment="{TemplateBinding Property=HorizontalAlignment}"
                    VerticalAlignment ="{TemplateBinding Property=VerticalAlignment}"
                   >
                   <ContentPresenter RecognizesAccessKey="True"></ContentPresenter>
            </Border>
             <ControlTemplate.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter TargetName="border" Property="Width" Value="53"/>
                    <Setter TargetName="border" Property="Height" Value="53"/>
                 </Trigger>
                <Trigger Property="IsPressed" Value="True">
                    <Setter TargetName="border" Property="Width" Value="50"/>
                    <Setter TargetName="border" Property="Height" Value="50"/>   
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>
    </Window.Resources>

    <Grid Margin="0,0,0,0
          ">
        <Grid.Background>
            <LinearGradientBrush EndPoint="0.5,1" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0">
                <GradientStop Color="White" Offset="1"/>
                <GradientStop Color="#FF8F8F8F"/>
            </LinearGradientBrush>
        </Grid.Background>
        <Grid.RowDefinitions>
            <RowDefinition x:Name="MenuRow" Height="20*" MaxHeight="20" MinHeight="20"/>
            <RowDefinition x:Name="ButsRow" Height="29*" MaxHeight="29" MinHeight="29"/>
        </Grid.RowDefinitions>

        <Menu Grid.Row="0" Height="20" VerticalAlignment="Top">
            <MenuItem  Header="Connection">
                <MenuItem x:Name="Con" Header="Connect" Visibility="Collapsed" Click="Con_OnClick"/>
                <MenuItem x:Name="Discon"  Header="Disconnect" Visibility="Collapsed" Click="Discon_OnClick"/>
                <MenuItem Header="Autoconnect" IsCheckable="True" IsChecked="True" Checked="MenuItem_OnChecked" Unchecked="MenuItem_OnUnchecked"/>
                <Separator/>
                <MenuItem Header="Exit" Click="OnExit"/>
            </MenuItem>
            <MenuItem Header="Параметры">
                <MenuItem x:Name="DataRxItem" Header="Прием данных" Click="DataRxItem_OnClick"/>
                <MenuItem x:Name="WeightParamItem" Header="Определение веса" Click="WeightParamItem_OnClick"/>
                <MenuItem x:Name="WeightCalibItem" Header="Весовая калибровка" Click="WeightCalibItem_OnClick"/>
                <MenuItem x:Name="StartUpCalibItem" Header="Начальная калибровка" Click="StartUpCalibItem_Click" />
                <MenuItem x:Name="FastWeightCalibItem" Header="Быстрая весовая калибровка" Click="FastWeightCalibItem_Click" />
                <MenuItem x:Name="Test1" Header="Test1" Click="Test1_OnClick" />
                <MenuItem x:Name="Test2" Header="Test2" Click="Test2_OnClick" />
                <MenuItem x:Name="Test3" Header="Добавить пациента" Click="Test3_OnClick" />
            </MenuItem>
            <Ellipse x:Name="StatusMark" Height="15" Width="15" Fill="Red" IsEnabled="False" Stroke="Black"/>
        </Menu>
        <TextBox x:Name="Tenz3" HorizontalAlignment="Left" Height="60" Margin="0,119,0,-149" Grid.Row="1" TextWrapping="Wrap" VerticalAlignment="Top" Width="104" FontFamily="Segoe Print" FontSize="22" IsReadOnly="True"/>
        <TextBox x:Name="Tenz0" HorizontalAlignment="Left" Height="60" Margin="354,19,0,-49" Grid.Row="1" TextWrapping="Wrap" VerticalAlignment="Top" Width="104" FontFamily="Segoe Print" FontSize="22" IsReadOnly="True"/>
        <TextBox x:Name="Tenz2" HorizontalAlignment="Left" Height="60" Margin="38,196,0,-226" Grid.Row="1" TextWrapping="Wrap" VerticalAlignment="Top" Width="104" FontFamily="Segoe Print" FontSize="22" IsReadOnly="True"/>
        <TextBox x:Name="Tenz1" HorizontalAlignment="Left" Height="60" Margin="354,196,0,-226" Grid.Row="1" TextWrapping="Wrap" VerticalAlignment="Top" Width="104" FontFamily="Segoe Print" FontSize="22" IsReadOnly="True"/>
        <Button x:Name="button1" Content="Start" HorizontalAlignment="Left" Height="60" Margin="199,19,0,-49" Grid.Row="1" VerticalAlignment="Top" Width="100" FontFamily="SketchFlow Print" FontSize="24" Click="Button_Click_1" />
        <Button Content="Stop" HorizontalAlignment="Left" Height="60" Margin="199,196,0,-226" Grid.Row="1" VerticalAlignment="Top" Width="100" FontFamily="SketchFlow Print" FontSize="24" Click="Button_Click_2" />
        <Expander x:Name="exp1" Header="Данные пациента" HorizontalAlignment="Left" Height="99" Margin="385,92,0,-161" Grid.Row="1" VerticalAlignment="Top" Width="129" RenderTransformOrigin="0.664,0.511" Expanded="Expander_Expanded" Collapsed="exp1_Collapsed">
            <Grid x:Name="gr1" Background="#FFE5E5E5" Margin="24,0,25,0"/>
        </Expander>
        <Button x:Name="button4" Content="Weight" HorizontalAlignment="Left" Height="60" Margin="250,107,0,-137" Grid.Row="1" VerticalAlignment="Top" Width="119" FontFamily="SketchFlow Print" FontSize="24" Click="button4_Click" />
        <TextBox x:Name="TextBoxWeight" HorizontalAlignment="Left" Height="60" Margin="118,107,0,-137" Grid.Row="1" TextWrapping="Wrap" VerticalAlignment="Top" Width="104" FontFamily="Segoe Print" FontSize="22" IsReadOnly="True"/>
        <DataGrid x:Name="grid" HorizontalAlignment="Left" Height="100" Margin="50,271,0,-341" Grid.Row="1" VerticalAlignment="Top" Width="503" CanUserReorderColumns="False" HeadersVisibility="Column" AutoGenerateColumns="False" ItemsSource="{Binding Path=DataTable1, Mode=OneWay}">
            <DataGrid.Columns>
                <DataGridTextColumn Binding="{Binding Path=ID, Mode=OneWay}" ClipboardContentBinding="{x:Null}" Header="ID"/>
                <DataGridTextColumn Binding="{Binding Surname, Mode=OneWay}" ClipboardContentBinding="{x:Null}" Header="Фамилия"/>
                <DataGridTextColumn Binding="{Binding Name, Mode=OneWay}" ClipboardContentBinding="{x:Null}" Header="Имя"/>
                <DataGridTextColumn Binding="{Binding Patronymic, Mode=OneWay}" ClipboardContentBinding="{x:Null}" Header="Отчество"/>
                <DataGridTextColumn Binding="{Binding Sex, Converter={StaticResource SexesConverter}, Mode=OneWay}" ClipboardContentBinding="{x:Null}" Header="Пол"/>
                <DataGridTextColumn Binding="{Binding Birthdate, Converter={StaticResource DateTimeConverter}, Mode=OneWay}" ClipboardContentBinding="{x:Null}" Header="Дата рождения"/>
                <DataGridTextColumn Binding="{Binding Street, Mode=OneWay}" ClipboardContentBinding="{x:Null}" Header="Улица"/>
                <DataGridTextColumn Binding="{Binding House, Mode=OneWay}" ClipboardContentBinding="{x:Null}" Header="Дом"/>
                <DataGridTextColumn Binding="{Binding Flat, Mode=OneWay}" ClipboardContentBinding="{x:Null}" Header="Кв-ра"/>
            </DataGrid.Columns>
            <DataGrid.DataContext>
                <local:PatientBaseDataSet Locale="ru-RU" EnforceConstraints="False"/>
            </DataGrid.DataContext>
        </DataGrid>
        
       <local:PatientControl x:Name="form_Pat" HorizontalAlignment="Left" Grid.Row="1" Width="200" Height="371" Margin="575,10,0,-351"/>
        <Button  Grid.Row="1" Padding="0" Template="{DynamicResource ButtonTemplate}" HorizontalAlignment="Center" VerticalAlignment="Center" BorderThickness="0" Margin="24,41,704,-67" Style="{StaticResource shadow_Blue}">
          <Path Data="M275.4,295.8c81.682,0,147.899-66.217,147.899-147.9C423.299,66.218,357.082,0,275.4,0c-81.683,0-147.9,66.217-147.9,147.9   C127.5,229.583,193.717,295.8,275.4,295.8z M345.461,206.604c-6.729,22.246-35.549,38.968-70.09,38.968   c-34.542,0-63.363-16.723-70.091-38.968H345.461z M586.5,510v20.4c0,5.634-4.566,10.2-10.199,10.2H515.1V601.8   c0,5.634-4.566,10.2-10.199,10.2h-20.4c-5.633,0-10.199-4.566-10.199-10.2v-61.199H413.1c-5.633,0-10.199-4.566-10.199-10.2V510   c0-5.633,4.566-10.199,10.199-10.199h61.201v-61.2c0-5.634,4.566-10.2,10.199-10.2h20.4c5.633,0,10.199,4.566,10.199,10.2v61.2   h61.201C581.934,499.8,586.5,504.367,586.5,510z M382.5,510v20.4c0,5.419,1.535,10.438,4.016,14.857   c-30.803,3.35-67.52,5.542-111.116,5.542c-142.607,0-212.393-23.302-237.979-34.686c-6.602-2.938-11.921-11.336-11.921-18.562   V448.8c0-73.056,55.624-133.663,126.599-141.78c2.157-0.247,5.355,0.677,7.113,1.949C191.938,332.66,232.002,346.8,275.4,346.8   s83.463-14.14,116.188-37.831c1.758-1.272,4.957-2.196,7.113-1.949c58.746,6.719,106.869,49.438,121.744,105.37   c-4.572-2.724-9.848-4.389-15.545-4.389h-20.4c-16.873,0-30.6,13.726-30.6,30.6v40.8H413.1C396.227,479.4,382.5,493.126,382.5,510z" Fill="#006DF0" Stretch="Fill"/>
        </Button>
    </Grid>

    
</Window>
